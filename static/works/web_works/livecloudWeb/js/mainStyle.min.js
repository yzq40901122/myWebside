/**
 * Created by Admin on 2018/2/28.
 */
$(function () {
    var widthW=$(window).width();
    var heightH=$(window).height();
/*
    $("#mWait").css({
        "width":widthW,
        "height":heightH,
        "position":"relative"
    });
*/
    $("#bodyMainStyDis").css({
       "margin-top" :(heightH-15)/3
    });
    $("#box").css("height",heightH);

    var pictureIdH=$("#box").height();
    $("#pictureIDZ").css("height",pictureIdH);
    $(".picStyle").css("margin-top",(heightH-60-270-60)/2)

    $("#bEMFTextMBAnd").on("click",function () {
        window.open("http://download1.alarmsecur.cn/arp_soft/AlarmPanel_release.apk");
    });
    $("#bEMFTextMBIOS").on("click",function () {
        window.open("https://itunes.apple.com/us/app/%E4%BA%91%E6%8A%A5%E8%AD%A6/id1237980588?ls=1&mt=8");
    });
    $("#btnADown").on("click",function () {
        $("html,body").animate({scrollTop:$("#bEAppDownLoad").offset().top},1000);
    });
    $("#alarmSystemBtn").on("click",function () {
        $("html,body").animate({scrollTop:$("#alarmSystem").offset().top},1000);
    });
    $("#HLink").on("click",function () {
        $("#bFOOne").stop().animate({height:"toggle",opacity:"toggle"},500);
        $("#bFOTwo").stop().animate({height:"hide",opacity:"hide"},500);
    })
    $("#BLink").on("click",function () {
        $("#bFOOne").stop().animate({height:"hide",opacity:"hide"},500);
        $("#bFOTwo").stop().animate({height:"toggle",opacity:"toggle"},500);
    })
    $("#mainLogo").on("click",function () {
       window.location.href="indexPcBeta2.html";
    });
    $("#pcHome").on("click",function () {
        window.location.href="indexPcBeta2.html";
    });
    $("#pcBurglary").on("click",function () {
        window.location.href="pcBurglary.html";
    });
    $("#pcSubscription").on("click",function () {
        window.location.href="pcSubscription.html";
    });
    $("#pcProducts").on("click",function () {
        window.location.href="pcProducts.html";
    });
    $("#pcManuals").on("click",function () {
        window.location.href="pcManuals.html";
    });
    $("#pcPartners").on("click",function () {
        window.location.href="pcPartners.html";
    });
    $("#pcAboutUs").on("click",function () {
        window.location.href="pcAboutUs.html";
    });
    $(".BAllTextRed").on("click",function () {
        window.location.href="pcSubscription.html";
    });
    $(".manText").on("click",function () {
        window.open("http://www.alarmsecur.com/");
    });

    $("#sTextCN").on("click",function () {
        window.location.href="CN/indexPcBeta2CN.html";
    });
    $("#sTextEN").on("click",function () {
        window.location.href="indexPcBeta2.html";
    });

    $("#pSt91Blue").on("mouseover",function () {
        $(this).addClass("choSelectN").removeClass("choSelectB").siblings().removeClass("choSelectN").addClass("choSelectB");
        $(this).children().removeClass("choTop3").addClass("choTop1").parent().siblings().children().removeClass("choTop1").addClass("choTop3");
        $(".cho_img_196v_b").hide().siblings().show();
    })
    $("#pSt91Red").on("mouseover",function () {
        $(this).addClass("choSelectN").removeClass("choSelectB").siblings().removeClass("choSelectN").addClass("choSelectB");
        $(this).children().removeClass("choTop3").addClass("choTop1").parent().siblings().children().removeClass("choTop1").addClass("choTop3");
        $(".cho_img_196v_w").hide().siblings().show();
    })

    $(".pBorderTwoH,.pBorderTwoHT,.pBorderTwoHS").on("mouseenter",function (e) {
        $(this).children(".choProducts,.choProductsW").stop().animate({height:"toggle",opacity:"toggle"},400);
    });
    $(".pBorderTwoH,.pBorderTwoHT,.pBorderTwoHS").on("mouseleave",function (e) {
        $(this).children(".choProducts,.choProductsW").stop().animate({height:"toggle",opacity:"toggle"},400);
    });

    var list = [{
        imgUrl: 'pictures/mob1.jpg',
        href: '#'
    }, {
        imgUrl: 'pictures/mob2.jpg',
        href: '#'
    }, {
        imgUrl: 'pictures/mob3.jpg',
        href: '#'
    }
        , {
            imgUrl: 'pictures/mob4.jpg',
            href: '#'
        }/*, {
         imgUrl: 'pictures/back5.png',
         href: '#'
         }, {
         imgUrl: 'img/a6.png',
         href: '#'
         }*/
    ]

    $('#box').fade({
        url: list
    }).css({
        margin:'0 auto'
    })

    var list2 = [{
        imgUrl: 'image/phone1.jpg',
        href: '#'
    }, {
        imgUrl: 'image/phone2.jpg',
        href: '#'
    }, {
        imgUrl: 'image/phone3.jpg',
        href: '#'
    }/*, {
         imgUrl: 'pictures/back5.png',
         href: '#'
         }, {
         imgUrl: 'img/a6.png',
         href: '#'
         }*/
    ]

    $('#boxPhone').fadePhone({
        url: list2
    }).css({
        margin:'0 auto'
    })

/*    var textImg=["pictures/mob3.png"]
    $.each(textImg,function (name,value) {
        loadImg(value,call)
    });*/
    var t=1;
    $(window).on("scroll",function () {
        var sTop=$(window).scrollTop();
        var hTopMax=$("#bodyTwo").height(),hThreeMax=$("#bodyThree").height(),hFourMax=$("#bodyFour").height(),hFiveMax=($("#bodyFive").height())*2/3;

        var hMax=hThreeMax+hTopMax+hFourMax+hFiveMax-350;
        var nFiveIdOne="PageV",PnFiveIdTwo="CusH",nFiveIdThree="InsIC",nFiveIdFour="OneGA";

        var timeEnd=1200;
        console.log(hMax);
        if(sTop>hMax){
            if(t==1){
                setTimeout(function () {
                    numStart($("#"+nFiveIdOne).html(),timeEnd,nFiveIdOne,0);
                    numStart($("#"+PnFiveIdTwo).html(),timeEnd,PnFiveIdTwo,0);
                    numStart($("#"+nFiveIdThree).html(),timeEnd,nFiveIdThree,0);
                    numStart($("#"+nFiveIdFour).html(),timeEnd,nFiveIdFour,0);
                },0)
                t=0;
            }
        }
    })
})
function numStart(num,time,id,nStart) {
    setTimeout(function () {
        if (nStart<num){
            if (numLast(time,num)==10){
                nStart=nStart+Math.round((num/time)*numLast(time,num));
/*                console.log(nStart);*/
                $("#"+id).html(nStart);
                numStart(num,time,id,nStart);
            }
            else {
                nStart=nStart+Math.round((num/time)*numLast(time,num));
/*                console.log(nStart);*/
                $("#"+id).html(nStart);
                numStart(num,time,id,nStart);
            }
        }
        else {
            $("#"+id).html(num);
        }
    },numLast(time,num));
}
function numLast(time,num) {
    if(time/num<=10)
    {
        return 10;
    }
    else {
        return Math.round(time/num);
    }
}
function loadImg(url,callback) {
    var img=new Image();
    img.src=url;
    img.onload=function () {
        img.onload=null;
        callback(img);
    }
/*    img.src=url;
    img.id=id;
    img.className=classN;*/
}
function call(img) {
/*    $(img).appendTo('.webDDDTIMain');*/
    $(".bodyMainStyDis").hide()
    $(".bodyMainStyNo").show();
}
function mWait() {
    $("#mWait").hide();
    $("#box").show();
}
